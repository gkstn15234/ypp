<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>iruinss ìŠ¤íƒ€ì¼ ë‰´ìŠ¤ ì²˜ë¦¬ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸</title>
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
        }
        .test-section {
            margin-bottom: 40px;
            border: 1px solid #e9ecef;
            padding: 20px;
            border-radius: 8px;
        }
        .test-section h2 {
            color: #495057;
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
        }
        button {
            background: linear-gradient(45deg, #007bff, #0056b3);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
            transition: all 0.3s ease;
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,123,255,0.3);
        }
        .result {
            background: #f8f9fa;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin-top: 15px;
            border-radius: 0 5px 5px 0;
            white-space: pre-wrap;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            max-height: 400px;
            overflow-y: auto;
        }
        .input-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
            color: #495057;
        }
        input, textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            font-size: 14px;
        }
        textarea {
            min-height: 80px;
            resize: vertical;
        }
        .status {
            padding: 10px;
            border-radius: 4px;
            margin-top: 10px;
            font-weight: bold;
        }
        .status.success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .status.error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .sample-data {
            background: #e7f3ff;
            border: 1px solid #b3d9ff;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸš€ iruinss ìŠ¤íƒ€ì¼ ë‰´ìŠ¤ ì²˜ë¦¬ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸</h1>
        
        <!-- ê¸°ë³¸ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ -->
        <div class="test-section">
            <h2>ğŸ“Š 1. ì¹´í…Œê³ ë¦¬ ìë™ íŒë³„ í…ŒìŠ¤íŠ¸</h2>
            <div class="input-group">
                <label for="titleInput">ì œëª©:</label>
                <input type="text" id="titleInput" placeholder="ì˜ˆ: í˜„ëŒ€ì°¨ ì‹ ì°¨ ì¶œì‹œ" value="í˜„ëŒ€ì°¨ ì—­ëŒ€ê¸‰ ì „ê¸°ì°¨ ì¶œì‹œ">
            </div>
            <div class="input-group">
                <label for="descInput">ì„¤ëª…:</label>
                <textarea id="descInput" placeholder="ì˜ˆ: ì „ê¸°ì°¨ ì‹œì¥ì—ì„œ í˜ì‹ ì ì¸ ë³€í™”">ì „ê¸°ì°¨ ì‹œì¥ì— ìƒˆë¡œìš´ ë°”ëŒì„ ì¼ìœ¼í‚¬ í˜ì‹ ì ì¸ ì‹ ì°¨ê°€ ì¶œì‹œë©ë‹ˆë‹¤.</textarea>
            </div>
            <button onclick="testCategoryDetection()">ì¹´í…Œê³ ë¦¬ íŒë³„í•˜ê¸°</button>
            <div id="categoryResult" class="result" style="display:none;"></div>
        </div>

        <!-- SEO ìŠ¬ëŸ¬ê·¸ í…ŒìŠ¤íŠ¸ -->
        <div class="test-section">
            <h2>ğŸ”— 2. SEO ìŠ¬ëŸ¬ê·¸ ìƒì„± í…ŒìŠ¤íŠ¸</h2>
            <div class="input-group">
                <label for="slugInput">ì œëª©:</label>
                <input type="text" id="slugInput" placeholder="ì˜ˆ: í˜„ëŒ€ì°¨ ì—­ëŒ€ê¸‰ ì‹¤ì  ë°œí‘œ" value='"ê¹œì§ ì‹¤ì  ë°œí‘œ"â€¦í˜„ëŒ€ì°¨ 3ë¶„ê¸° ì˜ì—…ì´ìµ 2ì¡° ëŒíŒŒ'>
            </div>
            <button onclick="testSlugGeneration()">ìŠ¬ëŸ¬ê·¸ ìƒì„±í•˜ê¸°</button>
            <div id="slugResult" class="result" style="display:none;"></div>
        </div>

        <!-- ì „ì²´ ë‰´ìŠ¤ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸ -->
        <div class="test-section">
            <h2>ğŸ“° 3. ì „ì²´ ë‰´ìŠ¤ ì•„ì´í…œ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸</h2>
            <div class="sample-data">
                <strong>ìƒ˜í”Œ ë°ì´í„°:</strong> ì•„ë˜ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ë¯¸ë¦¬ ì¤€ë¹„ëœ ë‰´ìŠ¤ ë°ì´í„°ë¥¼ iruinss ìŠ¤íƒ€ì¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.
            </div>
            <button onclick="testFullNewsProcessing('economy')">ê²½ì œ ë‰´ìŠ¤ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸</button>
            <button onclick="testFullNewsProcessing('automotive')">ìë™ì°¨ ë‰´ìŠ¤ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸</button>
            <div id="fullProcessResult" class="result" style="display:none;"></div>
        </div>

        <!-- ì‹¤ì‹œê°„ í…ŒìŠ¤íŠ¸ -->
        <div class="test-section">
            <h2>âš¡ 4. ì‹¤ì‹œê°„ ì»¤ìŠ¤í…€ ë‰´ìŠ¤ ì²˜ë¦¬</h2>
            <div class="input-group">
                <label for="customTitle">ì œëª©:</label>
                <input type="text" id="customTitle" placeholder="ë‰´ìŠ¤ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”" value="ì‚¼ì„±ì „ì AI ë°˜ë„ì²´ ê°œë°œ ì„±ê³µ">
            </div>
            <div class="input-group">
                <label for="customDesc">ì„¤ëª…:</label>
                <textarea id="customDesc" placeholder="ë‰´ìŠ¤ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”">ì‚¼ì„±ì „ìê°€ ì°¨ì„¸ëŒ€ AI ë°˜ë„ì²´ ê°œë°œì— ì„±ê³µí•˜ì—¬ ê¸€ë¡œë²Œ ì‹œì¥ì—ì„œ ê²½ìŸ ìš°ìœ„ë¥¼ í™•ë³´í•  ì „ë§ì…ë‹ˆë‹¤.</textarea>
            </div>
            <div class="input-group">
                <label for="customSource">ì¶œì²˜:</label>
                <input type="text" id="customSource" placeholder="ì¶œì²˜ë¥¼ ì…ë ¥í•˜ì„¸ìš”" value="ITì¡°ì„ ">
            </div>
            <button onclick="testCustomNews()">ì»¤ìŠ¤í…€ ë‰´ìŠ¤ ì²˜ë¦¬í•˜ê¸°</button>
            <div id="customResult" class="result" style="display:none;"></div>
        </div>
    </div>

    <!-- ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ -->
    <script src="/js/news-processor.js"></script>
    
    <script>
        // ì¹´í…Œê³ ë¦¬ íŒë³„ í…ŒìŠ¤íŠ¸
        function testCategoryDetection() {
            const title = document.getElementById('titleInput').value;
            const desc = document.getElementById('descInput').value;
            
            try {
                const category = IruinssNewsProcessor.determineEconomyOrAutomotive(title, desc, '');
                const result = `
ğŸ“‹ ì…ë ¥ ë°ì´í„°:
ì œëª©: ${title}
ì„¤ëª…: ${desc}

ğŸ¯ íŒë³„ ê²°ê³¼:
ì¹´í…Œê³ ë¦¬: ${category}

ğŸ’¡ íŒë³„ ê·¼ê±°:
- ì œëª©ê³¼ ì„¤ëª…ì„ ë¶„ì„í•˜ì—¬ í‚¤ì›Œë“œ ë§¤ì¹­
- ê²½ì œ ê´€ë ¨ í‚¤ì›Œë“œ vs ìë™ì°¨ ê´€ë ¨ í‚¤ì›Œë“œ ë¹„êµ
- ë” ë§ì´ ë§¤ì¹­ëœ ì¹´í…Œê³ ë¦¬ë¡œ ë¶„ë¥˜
                `;
                
                showResult('categoryResult', result, 'success');
            } catch (error) {
                showResult('categoryResult', `âŒ ì˜¤ë¥˜ ë°œìƒ: ${error.message}`, 'error');
            }
        }

        // SEO ìŠ¬ëŸ¬ê·¸ ìƒì„± í…ŒìŠ¤íŠ¸  
        function testSlugGeneration() {
            const title = document.getElementById('slugInput').value;
            
            try {
                const slug = IruinssNewsProcessor.generateSEOSlug(title);
                const result = `
ğŸ“‹ ì…ë ¥ ë°ì´í„°:
ì›ë³¸ ì œëª©: ${title}

ğŸ”— ìƒì„±ëœ ìŠ¬ëŸ¬ê·¸:
${slug}

ğŸ’¡ ë³€í™˜ ê³¼ì •:
1. íŠ¹ìˆ˜ë¬¸ì ë° ë”°ì˜´í‘œ ì œê±°
2. ì†Œë¬¸ì ë³€í™˜
3. ê³µë°±ì„ í•˜ì´í”ˆ(-)ìœ¼ë¡œ ë³€ê²½
4. ì—°ì† í•˜ì´í”ˆ ì •ë¦¬
                `;
                
                showResult('slugResult', result, 'success');
            } catch (error) {
                showResult('slugResult', `âŒ ì˜¤ë¥˜ ë°œìƒ: ${error.message}`, 'error');
            }
        }

        // ì „ì²´ ë‰´ìŠ¤ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
        function testFullNewsProcessing(type) {
            const sampleData = {
                economy: {
                    title: "ì½”ìŠ¤í”¼ ê¸‰ë“±, 3000ì„  ëŒíŒŒ ì„ë°•",
                    description: "êµ­ë‚´ ì¦ì‹œê°€ ê°•ì„¸ë¥¼ ë³´ì´ë©° ì½”ìŠ¤í”¼ê°€ 3000ì„  ëŒíŒŒë¥¼ ì•ë‘ê³  ìˆìŠµë‹ˆë‹¤.",
                    pubDate: "2025-06-30",
                    source: { name: "ê²½ì œì‹ ë¬¸" }
                },
                automotive: {
                    title: "í˜„ëŒ€ì°¨ ì‹ í˜• ì•„ì´ì˜¤ë‹‰ 7 ì¶œì‹œ",
                    description: "í˜„ëŒ€ìë™ì°¨ê°€ ìƒˆë¡œìš´ ì „ê¸°ì°¨ ì•„ì´ì˜¤ë‹‰ 7ì„ ê³µê°œí•˜ë©° ì „ê¸°ì°¨ ì‹œì¥ ê³µëµì— ë‚˜ì„°ìŠµë‹ˆë‹¤.",
                    pubDate: "2025-06-30", 
                    source: { name: "ìë™ì°¨ë§¤ê±°ì§„" }
                }
            };

            const newsItems = [{
                json: sampleData[type]
            }];

            try {
                const processed = IruinssNewsProcessor.processNewsItems(newsItems);
                const result = `
ğŸ“‹ ìƒ˜í”Œ ë°ì´í„° (${type === 'economy' ? 'ê²½ì œ' : 'ìë™ì°¨'}):
ì œëª©: ${sampleData[type].title}
ì„¤ëª…: ${sampleData[type].description}

ğŸš€ ìƒì„±ëœ iruinss ìŠ¤íƒ€ì¼ í”„ë¡¬í”„íŠ¸:
${processed[0].json.prompt.substring(0, 800)}...

ğŸ’¡ í¬í•¨ëœ ìš”ì†Œ:
- ê°ì„±ì  ì œëª© ìŠ¤íƒ€ì¼ ì§€ì¹¨
- êµ¬ì¡°í™”ëœ HTML í…œí”Œë¦¿  
- ì¹´í…Œê³ ë¦¬ë³„ í‚¤ì›Œë“œ
- SEO ìµœì í™” ìš”ì†Œ
- ê´€ë ¨ ê¸°ì‚¬ ì„¹ì…˜
- SNS ê³µìœ  ê¸°ëŠ¥
                `;
                
                showResult('fullProcessResult', result, 'success');
            } catch (error) {
                showResult('fullProcessResult', `âŒ ì˜¤ë¥˜ ë°œìƒ: ${error.message}`, 'error');
            }
        }

        // ì»¤ìŠ¤í…€ ë‰´ìŠ¤ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
        function testCustomNews() {
            const title = document.getElementById('customTitle').value;
            const desc = document.getElementById('customDesc').value;
            const source = document.getElementById('customSource').value;

            if (!title || !desc || !source) {
                showResult('customResult', 'âŒ ëª¨ë“  í•„ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'error');
                return;
            }

            const newsItems = [{
                json: {
                    title: title,
                    description: desc,
                    pubDate: new Date().toISOString(),
                    source: { name: source }
                }
            }];

            try {
                const processed = IruinssNewsProcessor.processNewsItems(newsItems);
                const category = IruinssNewsProcessor.determineEconomyOrAutomotive(title, desc, '');
                const slug = IruinssNewsProcessor.generateSEOSlug(title);
                
                const result = `
ğŸ“‹ ì…ë ¥í•œ ì»¤ìŠ¤í…€ ë°ì´í„°:
ì œëª©: ${title}
ì„¤ëª…: ${desc}
ì¶œì²˜: ${source}

ğŸ¯ ìë™ ë¶„ì„ ê²°ê³¼:
ì¹´í…Œê³ ë¦¬: ${category}
SEO ìŠ¬ëŸ¬ê·¸: ${slug}

ğŸš€ iruinss ìŠ¤íƒ€ì¼ ë³€í™˜ ì™„ë£Œ!
í”„ë¡¬í”„íŠ¸ ê¸¸ì´: ${processed[0].json.prompt.length}ì

ğŸ’¡ ìƒì„±ëœ ìš”ì†Œë“¤:
- ê°ì„±ì  í‚¤ì›Œë“œ ì ìš©
- êµ¬ì¡°í™”ëœ HTML í…œí”Œë¦¿
- ì´ë¯¸ì§€ í”Œë ˆì´ìŠ¤í™€ë” (IMG_URL_1~4)
- ê´€ë ¨ ê¸°ì‚¬ ì„¹ì…˜
- SNS ê³µìœ  ë²„íŠ¼
- íƒœê·¸ ì‹œìŠ¤í…œ
- êµ¬ì¡°í™” ë°ì´í„° (JSON-LD)

ğŸ“ ì²« 100ì ë¯¸ë¦¬ë³´ê¸°:
${processed[0].json.prompt.substring(0, 200)}...
                `;
                
                showResult('customResult', result, 'success');
            } catch (error) {
                showResult('customResult', `âŒ ì˜¤ë¥˜ ë°œìƒ: ${error.message}`, 'error');
            }
        }

        // ê²°ê³¼ í‘œì‹œ í—¬í¼ í•¨ìˆ˜
        function showResult(elementId, message, type) {
            const element = document.getElementById(elementId);
            element.textContent = message;
            element.style.display = 'block';
            element.className = `result ${type}`;
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ìƒíƒœ í™•ì¸
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof IruinssNewsProcessor === 'undefined') {
                document.body.innerHTML = `
                    <div class="container">
                        <h1>âŒ ì˜¤ë¥˜: IruinssNewsProcessorë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</h1>
                        <p>news-processor.js íŒŒì¼ì´ ì˜¬ë°”ë¥´ê²Œ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p>
                        <p>ë‹¤ìŒì„ í™•ì¸í•´ì£¼ì„¸ìš”:</p>
                        <ul>
                            <li>static/js/news-processor.js íŒŒì¼ì´ ì¡´ì¬í•˜ëŠ”ì§€</li>
                            <li>Hugo ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€</li>
                            <li>ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œ ì˜¤ë¥˜ ë©”ì‹œì§€ í™•ì¸</li>
                        </ul>
                    </div>
                `;
            } else {
                const statusDiv = document.createElement('div');
                statusDiv.className = 'status success';
                statusDiv.innerHTML = 'âœ… IruinssNewsProcessorê°€ ì„±ê³µì ìœ¼ë¡œ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤!';
                document.querySelector('.container').insertBefore(statusDiv, document.querySelector('.test-section'));
            }
        });
    </script>
</body>
</html> 